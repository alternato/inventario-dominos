<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TI Maestro v8.6 - Domino's Pizza Chile</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        // --- LÓGICA DE ACCESO INMEDIATA (NO TOCAR) ---
        function loginDirecto() {
            var u = document.getElementById('u_input').value.trim();
            var p = document.getElementById('p_input').value.trim();
            
            console.log("Intentando acceso con:", u); // Para depuración en consola (F12)

            if ((u === "edc_admin" && p === "dominos2026") || (u === "admin" && p === "123")) {
                sessionStorage.setItem('auth_ok', 'true');
                sessionStorage.setItem('user_rol', u.toUpperCase());
                window.location.reload();
            } else {
                alert("Error: Usuario o contraseña incorrectos.");
            }
        }

        function verificarSesion() {
            if (sessionStorage.getItem('auth_ok') === 'true') {
                document.getElementById('loginOverlay').style.display = 'none';
                document.getElementById('role_text').innerText = sessionStorage.getItem('user_rol');
                if(sessionStorage.getItem('user_rol') === 'EDC_ADMIN') {
                    document.getElementById('admin_section').classList.remove('hidden');
                }
            }
        }

        function logoutSystem() {
            sessionStorage.clear();
            window.location.reload();
        }
    </script>

    <style>
        :root { --blue: #0066CC; --red: #E31837; --bg: #FFFFF5; --white: #ffffff; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: var(--bg); display: flex; height: 100vh; overflow: hidden; }
        
        /* Sidebar */
        #sidebar { width: 280px; background: var(--blue); color: white; padding: 30px 20px; display: flex; flex-direction: column; flex-shrink: 0; }
        .logo-box { background: white; padding: 15px; border-radius: 12px; margin-bottom: 30px; display: flex; justify-content: center; }
        
        .nav-btn { background: rgba(255,255,255,0.1); color: white; border: none; padding: 12px 15px; border-radius: 8px; cursor: pointer; text-align: left; display: flex; align-items: center; gap: 12px; width: 100%; margin-bottom: 8px; font-weight: 600; font-size: 0.9rem; }
        .nav-btn.active { background: var(--red); }

        /* Marca de Agua con Icono Gemini */
        .watermark { 
            position: fixed; bottom: 20px; right: 25px; 
            display: flex; align-items: center; gap: 10px;
            background: rgba(255,255,255,0.9); padding: 10px 18px; border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 1px solid #ddd;
            font-size: 0.75rem; color: #334155; font-weight: bold; z-index: 9999;
        }
        .gemini-sparkle { width: 18px; height: 18px; }

        /* Login */
        #loginOverlay { position: fixed; inset: 0; background: var(--blue); z-index: 10000; display: flex; align-items: center; justify-content: center; }
        .login-card { background: white; padding: 45px; border-radius: 24px; width: 380px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        .login-card input { width: 100%; padding: 14px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 10px; font-size: 1rem; outline: none; }
        .login-card button { background: var(--blue); color: white; border: none; padding: 18px; width: 100%; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 1rem; }

        .main-view { flex-grow: 1; padding: 30px; overflow-y: auto; }
        .panel { background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.03); margin-bottom: 24px; border: 1px solid #eee; }
        .hidden { display: none !important; }
    </style>
</head>
<body onload="verificarSesion()">

<div class="watermark">
    <span>ENGINEERED BY MILO DROGUETT +</span>
    <img src="https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d47353039331e6224457.svg" class="gemini-sparkle">
    <span>GEMINI AI</span>
</div>

<div id="loginOverlay">
    <div class="login-card">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Domino%27s_pizza_logo.svg/1200px-Domino%27s_pizza_logo.svg.png" width="90">
        <h2 style="color:var(--blue); margin: 25px 0;">Acceso TI Maestro</h2>
        <input type="text" id="u_input" placeholder="Usuario">
        <input type="password" id="p_input" placeholder="Contraseña">
        <button onclick="loginDirecto()">INGRESAR AL SISTEMA</button>
    </div>
</div>

<div id="sidebar">
    <div class="logo-box">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Domino%27s_pizza_logo.svg/1200px-Domino%27s_pizza_logo.svg.png" width="100">
    </div>
    <button class="nav-btn active"><i class="fas fa-chart-pie"></i> Dashboard</button>
    <button class="nav-btn"><i class="fas fa-id-badge"></i> Hojas de Vida</button>
    
    <div id="admin_section" class="hidden" style="margin-top:20px; padding-top:20px; border-top:1px solid rgba(255,255,255,0.2);">
        <button class="nav-btn" style="background: #22c55e;"><i class="fas fa-file-csv"></i> CARGAR CSV</button>
    </div>

    <div style="margin-top:auto; padding:15px; background: rgba(0,0,0,0.1); border-radius:12px;">
        <p style="font-size:0.6rem; opacity:0.7;">OPERADOR:</p>
        <strong id="role_text">---</strong><br>
        <span onclick="logoutSystem()" style="color:#ffcccc; cursor:pointer; font-size:0.8rem; margin-top:8px; display:inline-block;">Cerrar Sesión</span>
    </div>
</div>

<div class="main-view">
    <h1 style="color:var(--blue); margin-bottom:30px;">Dashboard de Infraestructura</h1>
    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 24px;">
        <div class="panel"><h4>Colaboradores</h4><h2 style="color:var(--blue)">0</h2></div>
        <div class="panel"><h4>Activos</h4><h2>0</h2></div>
        <div class="panel"><h4>Pendientes</h4><h2 style="color:var(--red)">0</h2></div>
        <div class="panel"><h4>Ubicaciones</h4><h2 style="color:#22c55e">0</h2></div>
    </div>
    <div class="panel" style="height: 350px; display:flex; align-items:center; justify-content:center; color:#ccc;">
        <i class="fas fa-chart-bar fa-3x"></i>
        <p style="margin-left:15px;">Gráfico de rendimiento cargando...</p>
    </div>
</div>

</body>
</html>
